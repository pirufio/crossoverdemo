"use strict";angular.module("secondTestApp",["ngAnimate","ngCookies","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/build.html",controller:"BuildCtrl",controllerAs:"main"}).otherwise({redirectTo:"/"})}]),angular.module("secondTestApp").controller("BuildCtrl",["$scope","BuildList","BuildItem",function(a,b,c){a.buildList=[],b.getBuildsList().then(function(b){angular.forEach(b.data,function(d,e){console.info(e),a.buildList.push(new c(d)),console.info(b.data[e].state)})})}]),angular.module("secondTestApp").factory("BuildList",["$http","BuildItem",function(a){return{getBuildsList:function(){return a.get("/data/builds.json").then(function(a){return a.data})}}}]),angular.module("secondTestApp").factory("BuildItem",[function(){function a(a){a&&this.setData(a)}return a.prototype={setData:function(a){angular.extend(this,a);var b=this;b.type=void 0!==a.build?"build":"firewall",b.timeStarted=b.timeStarted?new Date(1e3*b.timeStarted):null,b.state=0,b.completed=!0,b.passed=!1,b.rejectionCauses=[],b.buildData&&100===b.buildData.completion&&b.buildData.metrics&&b.buildData.build&&b.buildData.unitTest&&b.buildData.functionalTest?b.buildData.metrics.test.previous>b.buildData.metrics.test.actual||b.buildData.metrics.maintainability.previous>b.buildData.metrics.maintainability.actual||b.buildData.metrics.security.previous>b.buildData.metrics.security.actual||b.buildData.metrics.workmanship.previous>b.buildData.metrics.workmanship.actual?(b.passed=!1,b.rejectionCauses.push("Metrics reduction")):b.buildData.build.debug&&b.buildData.build.release?b.buildData.unitTest.passed/b.buildData.unitTest.total*100<50?(b.passed=!1,b.rejectionCauses.push("Passed unit tests below 50%")):b.buildData.functionalTest.passed/b.buildData.functionalTest.total*100<50?(b.passed=!1,b.rejectionCauses.push("Passed functional tests below 50%")):b.passed=!0:(b.passed=!1,b.rejectionCauses="Incomplete build"):b.completed=!1,b.state="","build"===b.type?b.completed?b.state=b.passed?"Complete":"Fail":b.state="Pending":"firewall"===b.type&&(b.completed?b.state=b.passed?"Accepted":"Rejected":b.state="Running")}},a}]),angular.module("secondTestApp").run(["$templateCache",function(a){a.put("views/build.html",'<div class="table-responsive"> <table class="table table-hover" ng-repeat="item in buildList"> <tr> <td>{{item.type}}</td> <td>{{item.state}}</td> </tr> </table> </div>')}]);